"use strict";(self.webpackChunkinventory_app=self.webpackChunkinventory_app||[]).push([[53],{7053:(B,l,a)=>{a.r(l),a.d(l,{OrderTagReferencesComponent:()=>T});var p=a(467),e=a(4438),i=a(177),d=a(9417),g=a(4710);const u=["barcodeInput"];function _(r,s){if(1&r&&(e.j41(0,"div",18)(1,"span",19),e.EFF(2),e.k0s()()),2&r){const n=e.XpG();e.R7$(2),e.SpI(" \u{1f4cb} Working with Order: ",n.selectedOrder.orderNumber," ")}}function f(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.toggleOrderSelection())}),e.j41(1,"h3"),e.EFF(2," Change Order "),e.j41(3,"span",21),e.EFF(4),e.k0s()()()}if(2&r){const n=e.XpG();e.R7$(4),e.JRh(n.showOrderSelection?"\u25bc":"\u25b6")}}function m(r,s){1&r&&(e.j41(0,"h3"),e.EFF(1,"Select Order"),e.k0s())}function b(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",30),e.bIt("click",function(){const t=e.eBV(n).$implicit,c=e.XpG(3);return e.Njj(c.selectOrder(t))}),e.j41(1,"div",31)(2,"div",32),e.EFF(3),e.k0s(),e.j41(4,"div",33),e.EFF(5),e.k0s(),e.j41(6,"div",34)(7,"span",35),e.EFF(8),e.nI1(9,"titlecase"),e.k0s()()(),e.j41(10,"div",36),e.EFF(11),e.k0s()()}if(2&r){const n=s.$implicit,o=e.XpG(3);e.AVh("selected",(null==o.selectedOrder?null:o.selectedOrder.id)===n.id),e.R7$(3),e.JRh(n.orderNumber),e.R7$(2),e.JRh(n.customerName),e.R7$(2),e.HbH("status-"+n.status),e.R7$(),e.SpI(" ",e.bMT(9,8,n.status)," "),e.R7$(3),e.JRh(o.formatCurrency(n.totalAmount))}}function O(r,s){if(1&r&&(e.j41(0,"div",28),e.DNE(1,b,12,10,"div",29),e.k0s()),2&r){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.filteredOrders)}}function h(r,s){1&r&&(e.j41(0,"div",37),e.EFF(1," No orders found matching your search criteria. "),e.k0s())}function C(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"div",24)(3,"input",25),e.mxI("ngModelChange",function(t){e.eBV(n);const c=e.XpG();return e.DH7(c.orderSearchTerm,t)||(c.orderSearchTerm=t),e.Njj(t)}),e.bIt("input",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.searchOrders())}),e.k0s(),e.j41(4,"button",14),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.searchOrders())}),e.EFF(5," \u{1f50d} Search "),e.k0s()()(),e.DNE(6,O,2,1,"div",26)(7,h,2,0,"div",27),e.k0s()}if(2&r){const n=e.XpG();e.R7$(3),e.R50("ngModel",n.orderSearchTerm),e.R7$(3),e.Y8G("ngIf",n.filteredOrders.length>0),e.R7$(),e.Y8G("ngIf",0===n.filteredOrders.length)}}function M(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",38)(1,"h4"),e.EFF(2,"Selected Order"),e.k0s(),e.j41(3,"div",39)(4,"div",40)(5,"strong"),e.EFF(6,"Order #:"),e.k0s(),e.EFF(7),e.k0s(),e.j41(8,"div",40)(9,"strong"),e.EFF(10,"Customer:"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"div",40)(13,"strong"),e.EFF(14,"Status:"),e.k0s(),e.j41(15,"span",35),e.EFF(16),e.nI1(17,"titlecase"),e.k0s()()(),e.j41(18,"div",41)(19,"button",42),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.clearSelection())}),e.EFF(20," \u{1f504} Change Order "),e.k0s()()()}if(2&r){const n=e.XpG();e.R7$(7),e.SpI(" ",n.selectedOrder.orderNumber," "),e.R7$(4),e.SpI(" ",n.selectedOrder.customerName," "),e.R7$(4),e.HbH("status-"+n.selectedOrder.status),e.R7$(),e.SpI(" ",e.bMT(17,5,n.selectedOrder.status)," ")}}function P(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53)(4,"p"),e.EFF(5,"Position barcode within the frame"),e.k0s(),e.nrm(6,"div",54),e.k0s()()(),e.j41(7,"div",55)(8,"button",56),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2);return e.Njj(t.stopScanning())}),e.EFF(9," Stop Scanner "),e.k0s()()()}}function x(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",43)(1,"h3"),e.EFF(2,"Add Barcodes"),e.k0s(),e.j41(3,"div",44)(4,"div",45)(5,"input",46,0),e.mxI("ngModelChange",function(t){e.eBV(n);const c=e.XpG();return e.DH7(c.currentBarcode,t)||(c.currentBarcode=t),e.Njj(t)}),e.bIt("keydown.enter",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.addBarcode())}),e.k0s(),e.j41(7,"button",16),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.addBarcode())}),e.EFF(8," Add Barcode "),e.k0s()(),e.j41(9,"div",47)(10,"button",48),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.startScanning())}),e.EFF(11," \u{1f4f7} Start Camera Scan "),e.k0s(),e.j41(12,"button",48),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.clearInput())}),e.EFF(13," \u{1f5d1}\ufe0f Clear "),e.k0s()()(),e.DNE(14,P,10,0,"div",49),e.k0s()}if(2&r){const n=e.XpG();e.R7$(5),e.R50("ngModel",n.currentBarcode),e.R7$(2),e.Y8G("disabled",!n.currentBarcode.trim()),e.R7$(7),e.Y8G("ngIf",n.isScanning)}}function v(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",63)(1,"div",64)(2,"div",65),e.EFF(3),e.k0s(),e.j41(4,"div",66)(5,"span",67),e.EFF(6),e.k0s(),e.j41(7,"span",68),e.EFF(8),e.k0s()()(),e.j41(9,"div",69)(10,"button",70),e.bIt("click",function(){const t=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.editBarcode(t))}),e.EFF(11," \u270f\ufe0f Edit "),e.k0s(),e.j41(12,"button",71),e.bIt("click",function(){const t=e.eBV(n).index,c=e.XpG(2);return e.Njj(c.removeBarcode(t))}),e.EFF(13," \u{1f5d1}\ufe0f Remove "),e.k0s()()()}if(2&r){const n=s.$implicit,o=e.XpG(2);e.R7$(3),e.JRh(n.code),e.R7$(3),e.JRh(o.formatDateTime(n.timestamp)),e.R7$(2),e.JRh(n.scanType)}}function k(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",57)(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"div",58),e.DNE(4,v,14,3,"div",59),e.k0s(),e.j41(5,"div",60)(6,"button",48),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.exportBarcodes())}),e.EFF(7," \u{1f4e4} Export List "),e.k0s(),e.j41(8,"button",61),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.clearAllBarcodes())}),e.EFF(9," \u{1f5d1}\ufe0f Clear All "),e.k0s(),e.j41(10,"button",62),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.saveBarcodes())}),e.EFF(11," \u{1f4be} Save to Order "),e.k0s()()()}if(2&r){const n=e.XpG();e.R7$(2),e.SpI("Tagged Barcodes (",n.taggedBarcodes.length,")"),e.R7$(2),e.Y8G("ngForOf",n.taggedBarcodes)}}function y(r,s){if(1&r&&(e.j41(0,"div",72)(1,"h3"),e.EFF(2,"Statistics"),e.k0s(),e.j41(3,"div",73)(4,"div",74)(5,"div",75),e.EFF(6),e.k0s(),e.j41(7,"div",76),e.EFF(8,"Total Barcodes"),e.k0s()(),e.j41(9,"div",74)(10,"div",75),e.EFF(11),e.k0s(),e.j41(12,"div",76),e.EFF(13,"Camera Scanned"),e.k0s()(),e.j41(14,"div",74)(15,"div",75),e.EFF(16),e.k0s(),e.j41(17,"div",76),e.EFF(18,"Manual Entry"),e.k0s()(),e.j41(19,"div",74)(20,"div",75),e.EFF(21),e.k0s(),e.j41(22,"div",76),e.EFF(23,"Duplicates Found"),e.k0s()()()()),2&r){const n=e.XpG();e.R7$(6),e.JRh(n.taggedBarcodes.length),e.R7$(5),e.JRh(n.getScannedCount()),e.R7$(5),e.JRh(n.getManualCount()),e.R7$(5),e.JRh(n.getDuplicateCount())}}function R(r,s){if(1&r){const n=e.RV6();e.j41(0,"button",77),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.previewReport())}),e.EFF(1," \u{1f441}\ufe0f Preview Report "),e.k0s()}}function F(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",78),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.j41(1,"div",79),e.bIt("click",function(t){return e.eBV(n),e.Njj(t.stopPropagation())}),e.j41(2,"div",80)(3,"h3"),e.EFF(4,"Edit Barcode"),e.k0s(),e.j41(5,"button",81),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.EFF(6," \xd7 "),e.k0s()(),e.j41(7,"div",82)(8,"div",83)(9,"label"),e.EFF(10,"Barcode:"),e.k0s(),e.j41(11,"input",84),e.mxI("ngModelChange",function(t){e.eBV(n);const c=e.XpG();return e.DH7(c.editingBarcode.code,t)||(c.editingBarcode.code=t),e.Njj(t)}),e.k0s()(),e.j41(12,"div",83)(13,"label"),e.EFF(14,"Notes:"),e.k0s(),e.j41(15,"textarea",85),e.mxI("ngModelChange",function(t){e.eBV(n);const c=e.XpG();return e.DH7(c.editingBarcode.notes,t)||(c.editingBarcode.notes=t),e.Njj(t)}),e.k0s()()(),e.j41(16,"div",86)(17,"button",14),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeEditModal())}),e.EFF(18," Cancel "),e.k0s(),e.j41(19,"button",87),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.saveEditedBarcode())}),e.EFF(20," Save Changes "),e.k0s()()()()}if(2&r){const n=e.XpG();e.R7$(11),e.R50("ngModel",n.editingBarcode.code),e.R7$(4),e.R50("ngModel",n.editingBarcode.notes)}}let T=(()=>{class r{constructor(){this.orders=[],this.filteredOrders=[],this.selectedOrder=null,this.orderSearchTerm="",this.currentBarcode="",this.taggedBarcodes=[],this.editingBarcode=null,this.editingIndex=-1,this.isScanning=!1,this.availableDevices=[],this.showOrderSelection=!1,this.route=(0,e.WQX)(g.nX),this.document=(0,e.WQX)(i.qQ),this.platformId=(0,e.WQX)(e.Agw),this.router=(0,e.WQX)(g.Ix)}ngOnInit(){this.loadOrders(),this.setupQueryParamsSubscription(),this.debugRouteInfo()}ngOnDestroy(){this.stopScanning(),this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe()}debugRouteInfo(){if(console.log("=== ROUTE DEBUG INFO ==="),console.log("Route snapshot params:",this.route.snapshot.params),console.log("Route snapshot queryParams:",this.route.snapshot.queryParams),console.log("Route snapshot url:",this.route.snapshot.url),console.log("Route snapshot fragment:",this.route.snapshot.fragment),(0,i.UE)(this.platformId)){console.log("Current URL:",this.document.defaultView?.location?.href),console.log("Search params:",this.document.defaultView?.location?.search);const n=new URLSearchParams(this.document.defaultView?.location?.search);console.log("Manual URL parsing:"),console.log("orderId from URL:",n.get("orderId")),console.log("orderNumber from URL:",n.get("orderNumber"))}console.log("========================")}setupQueryParamsSubscription(){console.log("Setting up query params subscription..."),this.queryParamsSubscription=this.route.queryParams.subscribe(n=>{console.log("Observable params received:",n),this.handleQueryParams(n)}),setTimeout(()=>{console.log("Checking snapshot params after timeout...");const n=this.route.snapshot.queryParams;console.log("Snapshot params:",n),Object.keys(n).length>0&&this.handleQueryParams(n)},100),(0,i.UE)(this.platformId)&&setTimeout(()=>{this.parseUrlManually()},200)}handleQueryParams(n){const o=n.orderId,t=n.orderNumber;console.log("Handling query params:",{orderId:o,orderNumber:t,params:n}),o||t?this.waitForOrdersAndPreSelect(o,t):console.log("No orderId or orderNumber found in params")}parseUrlManually(){if((0,i.UE)(this.platformId))try{const n=this.document.defaultView?.location?.href;if(n){const o=new URL(n),t=o.searchParams.get("orderId"),c=o.searchParams.get("orderNumber");console.log("Manual URL parsing results:",{orderId:t,orderNumber:c}),(t||c)&&(console.log("Found params via manual parsing, using them..."),this.waitForOrdersAndPreSelect(t||void 0,c||void 0))}}catch(n){console.error("Error parsing URL manually:",n)}}waitForOrdersAndPreSelect(n,o){const t=()=>{this.orders.length>0?(console.log("Orders loaded, attempting to pre-select"),this.preSelectOrder(n,o)):(console.log("Orders not loaded yet, retrying..."),setTimeout(t,100))};t()}loadOrders(){console.log("Loading orders..."),this.orders=[{id:"ORD-001",orderNumber:"ORD-2024-001",customerName:"Maria Santos",status:"processing",totalAmount:15750},{id:"ORD-002",orderNumber:"ORD-2024-002",customerName:"Juan dela Cruz",status:"confirmed",totalAmount:8950},{id:"ORD-003",orderNumber:"ORD-2024-003",customerName:"Ana Reyes",status:"shipped",totalAmount:25300}],this.filteredOrders=[...this.orders],console.log("Orders loaded:",this.orders.length)}preSelectOrder(n,o){if(console.log("PreSelectOrder called:",{orderId:n,orderNumber:o,ordersCount:this.orders.length}),0===this.orders.length)return void console.log("No orders available for selection");let t;n?(t=this.orders.find(c=>c.id===n),console.log("Search by orderId result:",t)):o&&(t=this.orders.find(c=>c.orderNumber===o),console.log("Search by orderNumber result:",t)),t?(console.log("Target order found, selecting:",t),this.selectOrder(t),setTimeout(()=>{this.scrollToBarcodeInput()},500)):console.log("No matching order found for:",{orderId:n,orderNumber:o})}searchOrders(){const n=this.orderSearchTerm.toLowerCase();this.filteredOrders=this.orders.filter(o=>o.orderNumber.toLowerCase().includes(n)||o.customerName.toLowerCase().includes(n))}selectOrder(n){this.selectedOrder=n,this.loadExistingBarcodes(n.id),this.filteredOrders=this.filteredOrders.filter(o=>o.id!==n.id),this.filteredOrders.unshift(n)}loadExistingBarcodes(n){this.taggedBarcodes=[]}addBarcode(){if(!this.currentBarcode.trim())return;const n={code:this.currentBarcode.trim(),timestamp:new Date,scanType:"manual"};this.taggedBarcodes.some(t=>t.code===n.code)?alert("This barcode has already been added to this order."):(this.taggedBarcodes.push(n),this.currentBarcode="",this.focusBarcodeInput())}removeBarcode(n){confirm("Are you sure you want to remove this barcode?")&&this.taggedBarcodes.splice(n,1)}editBarcode(n){this.editingBarcode={...this.taggedBarcodes[n],notes:this.taggedBarcodes[n].notes||""},this.editingIndex=n}saveEditedBarcode(){this.editingBarcode&&this.editingIndex>=0&&(this.taggedBarcodes[this.editingIndex]={...this.editingBarcode},this.closeEditModal())}closeEditModal(){this.editingBarcode=null,this.editingIndex=-1}startScanning(){var n=this;return(0,p.A)(function*(){if((0,i.UE)(n.platformId))try{if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){const o=yield navigator.mediaDevices.enumerateDevices();n.availableDevices=o.filter(t=>"videoinput"===t.kind),n.currentDevice=n.availableDevices.find(t=>t.label.toLowerCase().includes("back"))||n.availableDevices[0]}n.isScanning=!0,console.log("Barcode scanner started")}catch(o){console.error("Error starting barcode scanner:",o),alert("Unable to start barcode scanner. Please check permissions."),n.isScanning=!1}else console.warn("Camera scanning not available in server-side rendering")})()}stopScanning(){this.isScanning=!1,console.log("Barcode scanner stopped")}onValueChanges(n){console.log("Barcode detected:",n),n&&n.codeResult&&n.codeResult.code&&this.onBarcodeScanned(n.codeResult.code)}onStarted(){console.log("Scanner started")}onStopped(){console.log("Scanner stopped")}onBarcodeScanned(n){if(console.log("Barcode scanned:",n),n&&n.trim()){const o={code:n.trim(),timestamp:new Date,scanType:"camera"};if(this.taggedBarcodes.some(c=>c.code===o.code))return void alert("This barcode has already been added to this order.");this.taggedBarcodes.push(o),this.focusBarcodeInput(),this.showScanSuccess()}}showScanSuccess(){console.log("Barcode added successfully")}clearInput(){this.currentBarcode="",this.focusBarcodeInput()}clearAllBarcodes(){confirm("Are you sure you want to clear all barcodes? This action cannot be undone.")&&(this.taggedBarcodes=[])}saveBarcodes(){this.selectedOrder&&0!==this.taggedBarcodes.length&&(console.log("Saving barcodes:",{orderId:this.selectedOrder.id,barcodes:this.taggedBarcodes}),alert(`Successfully saved ${this.taggedBarcodes.length} barcodes to order ${this.selectedOrder.orderNumber}`))}exportBarcodes(){if(0===this.taggedBarcodes.length||!(0,i.UE)(this.platformId))return;const n=this.generateCSV(),o=new Blob([n],{type:"text/csv"});if(this.document.defaultView){const t=this.document.defaultView.URL.createObjectURL(o),c=this.document.createElement("a");c.href=t,c.download=`barcodes_${this.selectedOrder?.orderNumber}_${(new Date).toISOString().split("T")[0]}.csv`,this.document.body.appendChild(c),c.click(),this.document.body.removeChild(c),this.document.defaultView.URL.revokeObjectURL(t)}}generateCSV(){return[["Barcode","Timestamp","Scan Type","Notes"],...this.taggedBarcodes.map(t=>[t.code,t.timestamp.toISOString(),t.scanType,t.notes||""])].map(t=>t.map(c=>`"${c}"`).join(",")).join("\n")}previewReport(){console.log("Preview report for barcodes:",this.taggedBarcodes)}goBack(){this.router.navigate(["/orders"])}toggleOrderSelection(){this.showOrderSelection=!this.showOrderSelection}clearSelection(){this.selectedOrder=null,this.taggedBarcodes=[],this.showOrderSelection=!0,this.router.navigate([],{relativeTo:this.route,queryParams:{},replaceUrl:!0})}getScannedCount(){return this.taggedBarcodes.filter(n=>"camera"===n.scanType).length}getManualCount(){return this.taggedBarcodes.filter(n=>"manual"===n.scanType).length}getDuplicateCount(){const n=this.taggedBarcodes.map(t=>t.code),o=new Set(n);return n.length-o.size}formatCurrency(n){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(n)}formatDateTime(n){return new Intl.DateTimeFormat("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(n)}focusBarcodeInput(){setTimeout(()=>{this.barcodeInput&&this.barcodeInput.nativeElement.focus()},100)}scrollToBarcodeInput(){if(!(0,i.UE)(this.platformId))return;const n=this.document.querySelector(".barcode-input-section");n&&(n.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{this.barcodeInput&&this.barcodeInput.nativeElement.focus()},300))}static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-order-tag-references"]],viewQuery:function(o,t){if(1&o&&e.GBs(u,5),2&o){let c;e.mGM(c=e.lsd())&&(t.barcodeInput=c.first)}},standalone:!0,features:[e.aNF],decls:22,vars:13,consts:[["barcodeInput",""],[1,"order-tag-container"],[1,"header"],[1,"subtitle"],["class","pre-selected-info",4,"ngIf"],[1,"order-selection-section"],["class","section-header",3,"click",4,"ngIf"],[4,"ngIf"],["class","selection-content",4,"ngIf"],["class","selected-order",4,"ngIf"],["class","barcode-input-section",4,"ngIf"],["class","tagged-barcodes-section",4,"ngIf"],["class","statistics-section",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-outline-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"pre-selected-info"],[1,"info-badge"],[1,"section-header",3,"click"],[1,"toggle-icon"],[1,"selection-content"],[1,"order-search"],[1,"search-input-group"],["type","text","placeholder","Search orders by number, customer name...",1,"form-control",3,"ngModelChange","input","ngModel"],["class","order-list",4,"ngIf"],["class","no-orders-message",4,"ngIf"],[1,"order-list"],["class","order-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"order-item",3,"click"],[1,"order-info"],[1,"order-number"],[1,"customer-name"],[1,"order-status"],[1,"status-badge"],[1,"order-total"],[1,"no-orders-message"],[1,"selected-order"],[1,"selected-order-info"],[1,"info-row"],[1,"change-order-actions"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"barcode-input-section"],[1,"input-method"],[1,"barcode-input-group"],["type","text","placeholder","Enter barcode or scan...",1,"form-control","barcode-input",3,"ngModelChange","keydown.enter","ngModel"],[1,"input-actions"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","camera-scanner",4,"ngIf"],[1,"camera-scanner"],[1,"scanner-container"],[1,"scanner-overlay"],[1,"scan-instructions"],[1,"scan-frame"],[1,"scanner-controls"],["type","button",1,"btn","btn-danger",3,"click"],[1,"tagged-barcodes-section"],[1,"barcodes-list"],["class","barcode-item",4,"ngFor","ngForOf"],[1,"bulk-actions"],["type","button",1,"btn","btn-outline-warning",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"barcode-item"],[1,"barcode-info"],[1,"barcode-code"],[1,"barcode-meta"],[1,"timestamp"],[1,"scan-type"],[1,"barcode-actions"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"statistics-section"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["type","button",1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","placeholder","Add any notes about this barcode...",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,t){1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"h2"),e.EFF(3,"Tag Barcodes to Order"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Scan or enter barcodes to associate with an order"),e.k0s(),e.DNE(6,_,3,1,"div",4),e.k0s(),e.j41(7,"div",5),e.DNE(8,f,5,1,"div",6)(9,m,2,0,"h3",7)(10,C,8,3,"div",8)(11,M,21,7,"div",9),e.k0s(),e.DNE(12,x,15,3,"div",10)(13,k,12,2,"div",11)(14,y,24,4,"div",12),e.j41(15,"div",13)(16,"button",14),e.bIt("click",function(){return t.goBack()}),e.EFF(17," \u2190 Back to Orders "),e.k0s(),e.DNE(18,R,2,0,"button",15),e.j41(19,"button",16),e.bIt("click",function(){return t.saveBarcodes()}),e.EFF(20," \u{1f4be} Save All Barcodes "),e.k0s()()(),e.DNE(21,F,21,2,"div",17)),2&o&&(e.R7$(6),e.Y8G("ngIf",t.selectedOrder),e.R7$(),e.AVh("collapsed",t.selectedOrder),e.R7$(),e.Y8G("ngIf",t.selectedOrder),e.R7$(),e.Y8G("ngIf",!t.selectedOrder),e.R7$(),e.Y8G("ngIf",!t.selectedOrder||t.showOrderSelection),e.R7$(),e.Y8G("ngIf",t.selectedOrder),e.R7$(),e.Y8G("ngIf",t.selectedOrder),e.R7$(),e.Y8G("ngIf",t.selectedOrder&&t.taggedBarcodes.length>0),e.R7$(),e.Y8G("ngIf",t.selectedOrder),e.R7$(4),e.Y8G("ngIf",t.taggedBarcodes.length>0),e.R7$(),e.Y8G("disabled",!t.selectedOrder||0===t.taggedBarcodes.length),e.R7$(2),e.Y8G("ngIf",t.editingBarcode))},dependencies:[i.MD,i.Sq,i.bT,i.PV,d.YN,d.me,d.BC,d.vS],styles:['.order-tag-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;background:#f8f9fa;min-height:100vh}.header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:8px;font-weight:600}.header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;margin:0}.header[_ngcontent-%COMP%]   .pre-selected-info[_ngcontent-%COMP%]{margin-top:15px}.header[_ngcontent-%COMP%]   .pre-selected-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{display:inline-block;background:#e3f2fd;color:#1565c0;padding:8px 16px;border-radius:20px;font-size:14px;font-weight:500;border:1px solid #bbdefb}.order-selection-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 10px #0000001a}.order-selection-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;color:#333;font-size:18px;font-weight:600}.order-selection-section[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.order-selection-section[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;border:1px solid #eee;border-radius:4px}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:all .3s ease}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item.selected[_ngcontent-%COMP%]{background:#e3f2fd;border-left:4px solid #007bff}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{flex:1}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .order-number[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{color:#666;font-size:14px;margin-bottom:4px}.order-selection-section[_ngcontent-%COMP%]   .order-list[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .order-total[_ngcontent-%COMP%]{font-weight:600;color:#28a745;font-size:16px}.order-selection-section.collapsed[_ngcontent-%COMP%]   .selection-content[_ngcontent-%COMP%]{display:none}.order-selection-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.order-selection-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px;color:#333;font-size:18px;font-weight:600;padding:10px 15px;background:#f8f9fa;border-radius:4px;transition:background-color .3s ease}.order-selection-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:hover{background:#e9ecef}.order-selection-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:14px;color:#666}.order-selection-section[_ngcontent-%COMP%]   .selected-order[_ngcontent-%COMP%]{margin-top:20px;padding:15px;background:#f8f9fa;border-radius:4px;border-left:4px solid #007bff}.order-selection-section[_ngcontent-%COMP%]   .selected-order[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:10px;color:#333}.order-selection-section[_ngcontent-%COMP%]   .selected-order[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{margin-bottom:8px}.order-selection-section[_ngcontent-%COMP%]   .selected-order[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-right:8px}.order-selection-section[_ngcontent-%COMP%]   .selected-order[_ngcontent-%COMP%]   .change-order-actions[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px solid #eee;text-align:center}.status-badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.status-confirmed[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.status-badge.status-processing[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.status-badge.status-shipped[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.status-delivered[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.barcode-input-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 10px #0000001a}.barcode-input-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:18px;font-weight:600}.barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:15px}.barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]   .barcode-input[_ngcontent-%COMP%]{flex:1;padding:12px;font-size:16px;font-family:Courier New,monospace;border:2px solid #007bff;border-radius:4px}.barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]   .barcode-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff40}.barcode-input-section[_ngcontent-%COMP%]   .input-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.camera-scanner[_ngcontent-%COMP%]{margin-top:20px}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]{position:relative;max-width:500px;margin:0 auto;border:3px solid #007bff;border-radius:12px;overflow:hidden;background:#000}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]     barcode-scanner-livestream{width:100%;height:400px;display:block}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]     barcode-scanner-livestream video{width:100%;height:100%;object-fit:cover;border-radius:8px}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]     barcode-scanner-livestream canvas{position:absolute;top:0;left:0;width:100%;height:100%}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to bottom,#0009,#0003 40% 60%,#0009);display:flex;align-items:center;justify-content:center;pointer-events:none}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]{text-align:center;color:#fff}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.8);background:#00000080;padding:10px 20px;border-radius:20px}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]   .scan-frame[_ngcontent-%COMP%]{width:250px;height:150px;border:3px solid #00ff00;border-radius:12px;margin:0 auto;position:relative;box-shadow:0 0 20px #00ff0080;animation:_ngcontent-%COMP%_scanPulse 2s infinite}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]   .scan-frame[_ngcontent-%COMP%]:before, .camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]   .scan-frame[_ngcontent-%COMP%]:after{content:"";position:absolute;width:30px;height:30px;border:4px solid #ff0000}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]   .scan-frame[_ngcontent-%COMP%]:before{top:-4px;left:-4px;border-right:none;border-bottom:none;border-radius:8px 0 0}.camera-scanner[_ngcontent-%COMP%]   .scanner-container[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-instructions[_ngcontent-%COMP%]   .scan-frame[_ngcontent-%COMP%]:after{bottom:-4px;right:-4px;border-left:none;border-top:none;border-radius:0 0 8px}.camera-scanner[_ngcontent-%COMP%]   .scanner-controls[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.camera-scanner[_ngcontent-%COMP%]   .scanner-controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:12px 24px;font-size:16px;font-weight:600}@keyframes _ngcontent-%COMP%_scanPulse{0%,to{border-color:#0f0;box-shadow:0 0 20px #00ff0080}50%{border-color:#ff0;box-shadow:0 0 30px #ffff00b3}}.tagged-barcodes-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 10px #0000001a}.tagged-barcodes-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:18px;font-weight:600}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;margin-bottom:20px}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px solid #eee;border-radius:4px;margin-bottom:8px}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]   .barcode-info[_ngcontent-%COMP%]{flex:1}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]   .barcode-info[_ngcontent-%COMP%]   .barcode-code[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:600;color:#333;font-size:16px;margin-bottom:4px}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]   .barcode-info[_ngcontent-%COMP%]   .barcode-meta[_ngcontent-%COMP%]{font-size:12px;color:#666}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]   .barcode-info[_ngcontent-%COMP%]   .barcode-meta[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{margin-right:15px}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]   .barcode-info[_ngcontent-%COMP%]   .barcode-meta[_ngcontent-%COMP%]   .scan-type[_ngcontent-%COMP%]{padding:2px 6px;background:#e9ecef;border-radius:10px;text-transform:uppercase}.tagged-barcodes-section[_ngcontent-%COMP%]   .barcodes-list[_ngcontent-%COMP%]   .barcode-item[_ngcontent-%COMP%]   .barcode-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.tagged-barcodes-section[_ngcontent-%COMP%]   .bulk-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.statistics-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;box-shadow:0 2px 10px #0000001a}.statistics-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:#333;font-size:18px;font-weight:600}.statistics-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px}.statistics-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center;padding:20px;background:#f8f9fa;border-radius:8px;border-left:4px solid #007bff}.statistics-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#007bff;margin-bottom:8px}.statistics-section[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#666;text-transform:uppercase;letter-spacing:.5px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;padding-top:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;font-weight:500;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block;text-align:center;font-size:14px}.btn.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#6c757d;cursor:not-allowed}.btn.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#545b62}.btn.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover{background:#218838}.btn.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}.btn.btn-outline-primary[_ngcontent-%COMP%]{background:transparent;color:#007bff;border:1px solid #007bff}.btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.btn.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:#6c757d;border:1px solid #6c757d}.btn.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#6c757d;color:#fff}.btn.btn-outline-warning[_ngcontent-%COMP%]{background:transparent;color:#ffc107;border:1px solid #ffc107}.btn.btn-outline-warning[_ngcontent-%COMP%]:hover{background:#ffc107;color:#212529}.btn.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:12px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #0000004d;max-width:500px;width:90%;max-height:80vh;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#666;cursor:pointer}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:10px}@media (max-width: 768px){.order-tag-container[_ngcontent-%COMP%]{padding:10px}.barcode-input-group[_ngcontent-%COMP%], .input-actions[_ngcontent-%COMP%], .bulk-actions[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]{flex-direction:column}.input-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .bulk-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.barcode-item[_ngcontent-%COMP%]{flex-direction:column;gap:10px;align-items:flex-start!important}.barcode-item[_ngcontent-%COMP%]   .barcode-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.pre-selected-info[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{display:block;margin:10px auto;max-width:300px;text-align:center}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}}return r})()}}]);